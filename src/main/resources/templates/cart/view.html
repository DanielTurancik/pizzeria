<!doctype html>
<html lang="sk"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Košík</title>
    <link rel="stylesheet" th:href="@{/css/cart.css}">
</head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<h1>Košík</h1>

<div th:if="${#lists.isEmpty(items)}">Košík je prázdny.</div>

<table th:if="${!#lists.isEmpty(items)}" border="1" cellpadding="6">
    <thead>
    <tr>
        <th>Pizza</th>
        <th>Veľkosť</th>
        <th>Cena</th>
        <th>Kusov</th>
        <th>Akcie</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="i : ${items}">
        <td th:text="${i.pizzaSize.pizza.name}">name</td>
        <td th:text="${i.pizzaSize.sizeName}">M</td>
        <td th:text="${i.pizzaSize.price}">0.00</td>
        <td th:text="${i.quantity}">1</td>
        <td>
            <form th:action="@{'/cart/item/' + ${i.id} + '/inc'}" method="post" style="display:inline;">
                <button type="submit">+</button>
            </form>
            <form th:action="@{'/cart/item/' + ${i.id} + '/dec'}" method="post" style="display:inline;">
                <button type="submit">\-</button>
            </form>
            <form th:action="@{'/cart/item/' + ${i.id} + '/remove'}" method="post" style="display:inline;">
                <button type="submit">Remove</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

<div th:if="${!#lists.isEmpty(items)}">
    <h2>Vytvoriť objednávku</h2>
    <form th:action="@{/checkout}" method="post">
        <div>
            <label for="deliveryAddress">Adresa doručenia (ak prázdne, použije sa adresa profilu)</label><br>
            <input id="deliveryAddress" name="deliveryAddress" type="text" style="width: 380px;">
        </div>
        <div>
            <label for="note">Poznámka</label><br>
            <textarea id="note" name="note" rows="3" style="width: 380px;"></textarea>
        </div>
        <button type="submit">Objednať</button>
    </form>
</div>

</body>
</html>