<!doctype html>
<html lang="sk"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Pizza detail</title>
    <link rel="stylesheet" th:href="@{/css/pizzas-detail.css}">
</head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<a href="/pizze">← späť na ponuku</a>

<h1 th:text="${pizza.name}">Názov</h1>
<p th:text="${pizza.description}">Popis</p>

<div th:if="${pizza.imageUrl != null}">
    <img th:src="${pizza.imageUrl}" alt="pizza" style="max-width:400px;">
</div>

<h2>Veľkosti</h2>
<ul>
    <li th:each="s : ${pizza.sizes}">
        <span th:text="${s.sizeName}">M</span>
        \-
        <span th:text="${s.diameterCm}">40</span> cm
        \-
        <strong th:text="${s.price}">9.90</strong> €

        <span sec:authorize="isAuthenticated()">
            <form th:action="@{/cart/add}" method="post" style="display:inline;">
                <input type="hidden" name="pizzaSizeId" th:value="${s.id}">
                <input type="hidden" name="quantity" value="1">
                <input type="hidden" name="returnTo" th:value="@{'/pizza/' + ${pizza.slug}}">
                <button type="submit">Add to cart</button>
            </form>
        </span>
        <span sec:authorize="isAnonymous()">
            <a th:href="@{/login}">Login to add to cart</a>
        </span>
    </li>
</ul>

</body>
</html>
